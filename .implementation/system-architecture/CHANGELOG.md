# Architecture Changelog

> Part of [System Architecture](README.md)

---

| Date       | Change                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 2026-02-15 | **Celavii API Skills Update (7→10)**: Ported 3 new skills from MCP export: `celavii-strategy` (multi-step workflow playbooks: Influence a Target, Acquire a Brand), `celavii-outreach` (creator outreach frameworks: Cold DM, Partnership Email, Follow-up, Negotiation, Re-engagement), `celavii-reporting` (report templates: Campaign Performance, Audience Insight, Creator Comparison, Pipeline Summary). Updated 7 existing skills with new parameters (discover: location/gender/has_contact filters; analytics: scope/profile_ids on demographics/locations; profiles: granular sub-scopes table; data-ops: confirmation flow docs, skip_reasons, credits_charged; campaigns: scope note; crm: validation note; knowledge: table formatting). Total MCP tools: 61. Celavii skill count: 7→10. SKILL.md file count: 71→74. Updated PROJECT.md and VALUES.md.                                                                                                                                                                                                                                                          |
| 2026-02-15 | **Workspace Consolidation & Drift Prevention**: Merged `projects/kick/` (261 files) into `projects/max-kick/` (now 336 files unified). Archived `kick/` to `_archive/2026-02-15/`. Created identity anchors: `max-kick/README.md` (74 lines, live site colors #111827/#EFF6FF/#FFFFFF from maxkickusa.medusajs.site), `kick/README.md` (campaign identity). Created `PROJECT.md` for maxkick-brand-identity (archive) and seo-proposals (shared). **Drift prevention system**: WORKSPACE.md Project Alias Map (kick/maxkick/sheetz→max-kick), 5 non-negotiable project creation rules, SOUL.md routing rule #7 (no new dirs without approval), TOOLS.md sub-agent steps updated (alias resolution + README.md read required). HEARTBEAT.md "After Audit" now auto-triggers reconcile on FAIL>0. `/audit` workflow scope updated for merged projects. Reconcile skill tightened: Pattern A (7 sub-steps, copy-before-archive with verification gates), Pattern B (protected/config file lists, categorization), Pattern C (read-first requirement, 30-line minimum README).                                                   |
| 2026-02-15 | **Workspace Audit & Reconcile System**: Added `workspace-auditor` agent (Pro, high thinking) with 2 skills: `workspace-audit` (5-phase integrity checks with incremental save) and `workspace-reconcile` (autonomous fix execution with 6 fix patterns: consolidation, root cleanup, missing file creation, brand resolution, registry update, cross-project relocation). Mandatory routing rules in TOOLS.md: "audit"→audit skill, "fix it"→reconcile skill. `/audit` workflow supports audit, fix, and re-verify modes. Prevention layer: SOUL.md task template requires README.md read + PROJECT.md write-back. WORKSPACE.md New Project Checklist. HEARTBEAT.md MWF schedule (Mon/Wed quick, Fri full). Iterative testing (4 rounds): fixed routing (grunt→auditor), incremental save (quota resilience), mandatory routing (prevent inline handling), strict report template. Celavii cleanup: merged 4 duplicate nested skill dirs, populated PROJECT.md, realigned trade show docs. Max Kick audit: identified 9 FAIL + 6 WARN across 4 fragmented projects. Skill count: 28→30. Agent count: 15→16. Pro agents: 4→5. |
| 2026-02-15 | **Agent behavior audit**: Fixed TOOLS.md and SOUL.md with stale V3 model references (Sonnet→5.2-Codex, Opus→GPT-5.2, Haiku→Flash). Fixed path inconsistency (TOOLS.md referenced `~/org/shared/` but canonical is `~/agent-workspace/`). Added `sendAttachment` file delivery instructions for PDF/WhatsApp/channel sending. Bumped search agent thinking: low→medium for better intel-hub execution. Added "SAVE BEFORE REPORTING" mandatory rule for sub-agents. Updated task field template with explicit save path + report-back pattern.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-12 | **Per-project skill customization**: Documented `.agents/skills/` directories (upstream v2026.2.12 feature) — personal (`~/.agents/skills/`) and project-level (`{workspace}/.agents/skills/`) skill overrides. Updated loading precedence from 4 to 6 sources in skills.md. Enables client-specific review criteria, project-specific data schemas, and A/B skill prompt testing without touching shared managed skills.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 2026-02-12 | **Upstream sync (v2026.2.12)**: Rebased 243 upstream commits (v2026.2.9 → v2026.2.12). Key upstream additions: heartbeat scheduler death prevention, provider name in billing errors, WebSocket 5MB payload, `.agents/skills/` cross-agent discovery, thinking events streaming, IRC channel, LiteLLM/Together AI/Z.AI providers. Resolved 4 merge conflicts (`.env.example`, cron delivery, cron types, telegram commands). Build clean, 884/888 tests pass. Gateway version updated to 2026.2.12.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-12 | **V4 Model Strategy (Option A)**: Integrated GPT-5.2 ($1.75/$14, xhigh) for quality-critic and planner (replaces Opus, 65% cheaper). GPT-5.2 Codex for prod-coder (SOTA 55.6% SWE-Bench Pro, context compaction). Updated fallback chain: Pro → GPT-5 Mini → GPT-5.1. Anthropic fully removed from primary agents (0 primary, fallback only). Provider split: 8 Flash / 4 Pro / 2 GPT-5.2 / 1 5.2-Codex. New `model-strategy.md` documents full research + both options. Est. ~$22/mo (84% savings vs V1).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 2026-02-12 | **Thinking Strategy**: Centralized thinking level config — global `thinkingDefault: medium` (coordinator), `subagents.thinking: low` (baseline), per-agent overrides (high for coders/critic, medium for legal/finance/data, off for grunt). 3-tier resolution: explicit spawn → per-agent config → global default.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-12 | **Provider migration (Anthropic reduction)**: Migrated legal, finance, data, prod-coder from Sonnet → Gemini 3 Pro. Migrated grunt from Haiku → Flash (thinking off). Haiku deprecated. Sonnet demoted to fallback-only. Only Opus remains as primary Anthropic agent (planner, use sparingly). Provider split: 8 Flash / 6 Pro / 1 Opus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 2026-02-12 | **Quality Critic agent**: New `quality-critic` sub-agent (Gemini 3 Pro) — agnostic generate→review→refine feedback loop for proposals, images, decks. Inspired by PaperBanana multi-agent architecture. Evaluates on 4 dimensions: content fidelity, layout compliance, visual quality, brand consistency. Max 2 refinement iterations.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 2026-02-12 | **quality-critic skill**: Created `skills/quality-critic/SKILL.md` + `references/quality-checklist.md` — evaluation rubric with element density limits for 8.5x11 print docs, image composition, presentation decks.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2026-02-12 | **Proposal skill updated**: Added Step 7 (Critic feedback loop) + Step 8 (deploy lifecycle) + element density limits per page to `generating-proposal-documents/SKILL.md`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 2026-02-12 | **TOOLS.md**: Added quality-critic routing and workflow pattern to Flash coordinator's agent routing section.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-12 | **Agent counts**: Domain 9→10, total 14→15. Skill counts: managed dirs 27→28, SKILL.md files 67→68.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-12 | **Cron `maxRuns`**: Added `maxRuns` field to cron jobs — auto-disables task-scoped crons after N successful runs, sends user notification on completion. Tracks `runCount` in job state. Full schema, normalization, and regression test.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 2026-02-12 | **Heartbeat commands**: Added `/shutdown`, `/heartbeat on\|off`, `/resume` commands — direct triggers to pause/resume heartbeat notifications from any channel (Telegram, Discord, Slack, etc.). Registered as native Telegram commands.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2026-02-12 | **Audit**: Skills, cron, heartbeat, and UX audit documented in `refinements/2026-02-12-skills-cron-ux-audit.md`. Immediate fixes: updated Daily Intel Ingest cron payload, disabled Sheetz cron, hardened intel-ingest SKILL.md with dedup + validation checklist.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-10 | **Celavii skills**: Added 3 cohort analytics endpoints to celavii-analytics (POST /analytics/cohort, GET /analytics/cohort/stats, POST /analytics/cohort/filter). Updated celavii-data-ops with bulk enhance, refine, auto_confirm, confirm endpoint. Fixed managed skill count 26→27 in skills.md (×4) and VALUES.md                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2026-02-04 | Initial setup - multi-model, heartbeat, caching                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-04 | Architecture document created                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-04 | Added routing instructions to SOUL.md and TOOLS.md                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-04 | **Architecture revision**: Sonnet as main agent, Opus for planning, Flash for search, Haiku for tools                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2026-02-05 | Configured Telegram channel with allowlist policy                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 2026-02-05 | Installed voice skills: whisper, sag, sherpa-onnx-tts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2026-02-05 | Installed dev tools: gh, netlify, pi, jq, ripgrep                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 2026-02-05 | Added custom skills: shadcn-ui, brand-identity, proposals                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 2026-02-05 | Authenticated GitHub (`clawdwork`) and Netlify accounts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 2026-02-05 | Added capabilities matrix and skill inventory                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-05 | Installed 46 Anthropic domain skills across 8 categories                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2026-02-05 | Fixed tool call visibility in Telegram (pruning placeholder)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 2026-02-06 | **Architecture revision v2**: Flash as coordinator, Sonnet as coder, Opus 4.6 as planner                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2026-02-06 | Added 8 domain sub-agents: marketing, sales, legal, finance, data, product, support, search                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 2026-02-06 | Added project-first file organization with domain research folders                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-06 | Enterprise Search agent configured with file-based persistent memory                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2026-02-06 | Self-documenting domain agents: MUST save findings before reporting                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-06 | **Codebase verification**: sub-agents cannot spawn (1-level only)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 2026-02-06 | **Codebase verification**: sub-agents see only AGENTS.md + TOOLS.md                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-06 | Added 3-layer context injection pattern (TOOLS.md + agents.list + task field)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-06 | Added multi-coordinator architecture for team scaling                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2026-02-06 | Documented `agentId` routing via `sessions_spawn` for domain agents                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-06 | **Org-scale team architecture**: role-based naming protocol (`admin-NNN`, `member-NNN`, `guest-NNN`)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2026-02-06 | Designed `~/org/` directory structure: shared/, workspaces/, config/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2026-02-06 | Access matrix: sandbox isolation + Docker bind mounts per role                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 2026-02-06 | Role permissions: admin (full), member (sandboxed rw), guest (sandboxed ro), service (automated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 2026-02-06 | Channel routing plan: separate Telegram bots per agent, WhatsApp DM-split                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 2026-02-06 | Migration path: agent-workspace → ~/org/workspaces/admin-001/ + symlinks                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2026-02-06 | Docker Desktop installed via Homebrew (arm64)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-06 | Env siloing architecture: sandbox already isolates; Phase 1 config + Phase 2 env file hierarchy                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-06 | Phase 2 integration roadmap: envFile, env hierarchy, workspace wizard, folder-ACL, migration                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 2026-02-06 | **Workspace Wizard skill spec**: admin-only provisioning wizard with templates + deactivation flow                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-06 | **Structural audit**: fixed 6 stale refs (old paths, personal names, outdated security notes, model table)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 2026-02-06 | WhatsApp channel linked (dedicated number), LaunchAgent installed for boot persistence                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 2026-02-06 | **Channel bindings**: per-sender session isolation, binding patterns, DM policy + bindings flow diagram                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 2026-02-07 | **Git & Deployment Integration**: GitHub repo structure, Vercel/Netlify platform assessment, deployment routing                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-07 | **Token Security Architecture**: credential isolation matrix, injection model, access tiers, leakage prevention                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-07 | **Member Self-Service Deploys**: agent-driven repo creation + Vercel deploy flow, templates, data isolation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 2026-02-07 | GitHub PAT `org-agent-deploy` created (fine-grained, expires 2026-12-31), saved to `shared.env`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-07 | **deploy-and-publish skill**: unified generate → git → deploy → URL pipeline for member agents                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 2026-02-07 | **Proposal template**: `~/org/shared/templates/proposal-template/` (Next.js + Tailwind + Lucide, 8.5x11 print)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 2026-02-07 | **Provisioning script**: auto-creates Vercel tokens via API, injects GH_TOKEN from shared.env                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-07 | **Sandbox network security**: default `network:none`, bridge for deploy-enabled only, skills can't be installed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-07 | **Deactivation protocols**: disable/archive/delete/purge tiers, Vercel token revocation, repo+deploy cleanup                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 2026-02-07 | **Deploy routing**: Vercel-first (no build minute cap), Netlify only for existing commercial sites                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-07 | **Netlify→Vercel migration**: All 4 Netlify sites migrated to Vercel with dedicated GitHub repos                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 2026-02-07 | **GitHub repos created**: client-celavii-seo-proposal, client-maxkick-seo-proposal, client-kick-sheetz-presentation, client-maxkick-war-room                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 2026-02-07 | **Skills symlink**: `~/.openclaw/skills/` → `~/agent-workspace/skills/` — all 50 skills globally accessible                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 2026-02-07 | **shadcn-ui relocated**: `skills/shadcn-ui.md` → `skills/ui/shadcn-ui/SKILL.md` (proper skill directory)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2026-02-07 | **Skills inventory**: 50 skills across 13 categories. Full inventory documented in WORKSPACE.md                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-07 | **WORKSPACE.md**: Created canonical workspace map with file save decision tree, project/deployment/git registries                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 2026-02-07 | **Personal workspace dirs**: Added daily/, todos/, intel/daily/, audio/ to provisioning                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 2026-02-07 | **Intel hub pipeline fixes**: hub-sync.sh pre-flight checks, Vercel token auth, removed stale Netlify refs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 2026-02-07 | **SKILL.md (intel-ingest)**: Consolidated duplicate Phase 4/5, added HTML edition generation step                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 2026-02-07 | **Architecture refactor**: Split monolithic SYSTEM-ARCHITECTURE.md (2033 lines) into 9 focused modules under `.implementation/system-architecture/`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-07 | **Windsurf workflow**: Created `/architecture` workflow for review and update operations                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2026-02-07 | **Architecture audit**: Fixed 9 discrepancies from monolithic→modular transcription                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-07 | **channels.md**: Anonymized real phone number consistently across all 3 occurrences (+15555555555)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-07 | **README.md**: Fixed Overview diagram — regrouped Support/Search as Flash, Legal/Finance/Data as Sonnet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 2026-02-07 | **org-structure.md**: Restored missing Granular Project Access JSON examples (member + guest bind-mount patterns)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 2026-02-07 | **deployments.md**: Restored missing data isolation explanatory bullets + Agent deploy workflow 4-step flow                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 2026-02-07 | **security.md**: Restored missing "complete agent sandbox" paragraph + sandbox config summary bullets                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2026-02-07 | **agents.md**: Fixed example skill path `seo-optimization` → `content-creation` (valid marketing skill)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 2026-02-07 | **README.md**: Restored inline comments in Cache Configuration JSON (`// Extended TTL`, etc.)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-07 | **TOOLS.md**: Added File Routing Cheat Sheet — inline save paths for coders, data, grunt, planner, and search sub-agents (reduces need for WORKSPACE.md tool call)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-09 | **security.md**: Added `CELAVII_API_KEY` to env vars section (Creator Intelligence Platform, shared across all agents)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 2026-02-09 | **Skills**: Created 7 Celavii API skills — celavii-discover, celavii-profiles, celavii-campaigns, celavii-crm, celavii-analytics, celavii-knowledge, celavii-data-ops                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2026-02-09 | **skills.md**: Added Creator Intelligence Skills section (7 Celavii skills), updated skill count 50→60, updated access matrix counts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2026-02-09 | **agents.md**: Marketing agent now includes Celavii CIP, added creator discovery/campaign/CRM task routing, added celavii-\* capability combo                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-09 | **README.md**: Updated skill count 50→60, Marketing skills column updated, added `CELAVII_API_KEY` to security notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2026-02-09 | **Port fix**: Corrected gateway port references 49152→19400 across README.md, channels.md (actual LaunchAgent port per plist)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-09 | **Maintenance**: Created `scripts/arch-verify.sh` — automated drift detection (ports, skill counts, API keys, gateway status, VALUES.md consistency)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2026-02-09 | **VALUES.md**: Created single-source-of-truth for runtime values (gateway port, skill counts, paths, API keys)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 2026-02-09 | **Workflow**: Added "New Skill Added" and "New API Key Added" checklists to `/architecture` workflow, arch-verify.sh as pre/post check                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 2026-02-09 | **skills.md**: Fixed skill counts — distinguished managed dir (20) from bundled repo (60), updated access matrix accordingly                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 2026-02-09 | **Media Content Agent**: New domain agent (`media-content`, Pro model) — 5 knowledge skills (image-prompting, video-prompting, character-consistency, commercial-styles, creative-direction) + 6 command templates + 6 reference files                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 2026-02-09 | **agents.md**: Added media-content to task routing, domain definitions, when-to-use table, multi-coordinator shared agents list                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-09 | **README.md**: Updated overview diagram 8→9 Specialists, added Media Content box (Pro), added row to Domain Sub-Agent Models table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-09 | **skills.md**: Added Media Content category (5 skills), video prompting capability, updated managed dir count 20→21, domain skills 50→55                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2026-02-09 | **VALUES.md**: Updated agent counts (domain 8→9, total 13→14), skill counts (managed dirs 20→21, SKILL.md files 57→62)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 2026-02-09 | **veo3-gen**: New execution skill — Veo 3.1 video generation (text-to-video + image-to-video), mirrors nano-banana-pro pattern, uses GEMINI_API_KEY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-09 | **skills.md**: Added veo3-gen to Voice & Media, updated managed dir count 21→22                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2026-02-09 | **VALUES.md**: Updated skill counts (managed dirs 21→22, SKILL.md files 62→63)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 2026-02-09 | **sora2-gen**: New execution skill — Sora 2 video generation (text-to-video, image-to-video, remix), uses OPENAI_API_KEY, supports sora-2 + sora-2-pro models                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-09 | **skills.md**: Added sora2-gen as Veo 3.1 fallback in Voice & Media, updated managed dir count 22→23                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2026-02-09 | **VALUES.md**: Updated skill counts (managed dirs 22→23, SKILL.md files 63→64)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 2026-02-09 | **minimax-voice**: New execution skill — MiniMax Speech 2.6 HD/Turbo TTS via Replicate, 300+ voices, 40+ languages, emotion control, uses REPLICATE_API_TOKEN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-09 | **voice-clone**: New execution skill — MiniMax voice cloning via Replicate, 5s min audio, persistent voice IDs for TTS reuse, uses REPLICATE_API_TOKEN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 2026-02-09 | **skills.md**: Added TTS + voice cloning to Voice & Media, updated managed dir count 23→25                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 2026-02-09 | **VALUES.md**: Updated skill counts (managed dirs 23→25, SKILL.md files 64→66)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 2026-02-09 | **.env**: Added REPLICATE_API_TOKEN placeholder in VOICE & MEDIA section                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2026-02-10 | **podcast-gen**: New execution skill — Podcastfy-powered podcast generation from text/files/URLs, Gemini 3 Flash for script + Edge TTS (free) or OpenAI/ElevenLabs for voices, two-host conversational format                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2026-02-10 | **sag**: Added to media-content agent skills as primary TTS; minimax-voice configured as fallback when ElevenLabs credits exhausted                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 2026-02-10 | **skills.md**: Added podcast-gen to Voice & Media, updated managed dir count 25→26                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2026-02-10 | **VALUES.md**: Updated skill counts (managed dirs 25→26, SKILL.md files 66→67)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
